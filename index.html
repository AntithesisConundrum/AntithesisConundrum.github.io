<!DOCTYPE html>
<html>	
	<head>
		<title>
			Rice GPA Calculator
		</title>
		<script src="jquery.js"></script>
		<style>
			body {
			font-size: 20px;
			background: #ffecb3;
			font-family: Georgia;
			}
			h1 {
				text-align: center;
			}
			h3 {
				text-align: center;
				position: relative;
				top: 20px;
			}
			button {
			margin: 40px;
			}
			input {
				font-size: 24px;
				border: 4px solid black;
				margin: 4px;
			}
			table {
				text-align: center;
				border: 1px solid black;
				width: 100%;
				position: absolute;
				left: 0px;
				right: 0px;
			}
			td {
				border: 1px solid black;
			}

			.button {
				margin: 20px;
				position: relative;
				text-align: center;
				top: 50px;
				left: 40%;
			}
		</style>
	</head>
	
	<body>
		<h1>Rice GPA Calculator</h1>
		<table>
			<tr>
				<td id="classname">Class Name</td>
				<td id="numhours">Number of Hours</td>
				<td id="letter">Letter Grade</td>
			</tr>
			<tr>
				<span class="inputs">
				<td><input type="text" class="classes"></td>
				<td><input type="text" class="hours"></td>
				<td><input type="text" class="grade"></td>
				</span>
			</tr>
		</table>
		<br>
		<span class = "next"><input type="button" class="button" value="Next" /></span>
		<span class = "done"><input type="button" class="button" value="Done" /></span>
		<h3 class="show"></h3>
		
		
		
		<script>
		var classes = [];
		var hours = [];
		var grades = [];
		
		// A function that will record the inputted values
		var recordAnswers = function() {
			newClass = $('.classes').val().toUpperCase()
			newHour = $('.hours').val()
			newGrade = $('.grade').val().toUpperCase()
			classes.push(newClass);
			hours.push(newHour);
			grades.push(newGrade);
			$('.show').html(classes + "   " + hours + "   " + grades)
		}
		
		$('.next').click(function() {
			//alert("Click")
			recordAnswers();
			//alert("recorded")
			//alert("cleared")
    	});

		
		var showResults = function() {
			//alert("Function")
			var numClasses = classes.length
			if(numClasses == 0) {
				return 'You have to input a class!'
			}
			var index  = 0
			var totalHours = 0
			var totalGrade = 0
			//alert("Beginning While")
			while(index < numClasses){
				//alert("While")
				var currentHours = Number(hours[index])
				
				if(typeof currentHours != "number") {
					classes = []
					hours = []
					grades = []
					return 'One of your "Hours" fields was entered improperly. Please try again.'
				}
				totalHours += currentHours
				var currentGrade = grades[index];
				if(currentGrade == "A+") {
					totalGrade += 4.333*currentHours
				}
				else if(currentGrade == "A") {
					totalGrade += 4*currentHours
				}
				else if(currentGrade == "A-") {
					totalGrade += 3.667*currentHours
				}
				else if(currentGrade == "B+") {
					totalGrade += 3.333*currentHours
				}
				else if(currentGrade == "B") {
					totalGrade += 3*currentHours
				}
				else if(currentGrade == "B-") {
					totalGrade += 2.667*currentHours
				}
				else if(currentGrade == "C+") {
					totalGrade += 2.333*currentHours
				}
				else if(currentGrade == "C") {
					totalGrade += 2*currentHours
				}
				else if(currentGrade == "C-") {
					totalGrade += 1.666*currentHours
				}
				else if(currentGrade == "D+") {
					totalGrade += 1.333*currentHours
				}
				else if(currentGrade == "D") {
					totalGrade += 1*currentHours
				}
				else if(currentGrade == "D-") {
					totalGrade += 0.667*currentHours
				}
				else if(currentGrade == "F") {
					totalGrade += 0
				}
				else {
					classes = []
					hours = []
					grades = []
					return 'One of your "Grade" fields was entered improperly. Please try again.'
				}
			index++
			}
		//alert("GPA calc")
		var GPA = totalGrade / totalHours
		//alert("GPA good")
		var roundedGPA = Math.round(GPA*1000) / 1000
		//alert("round good")
		return("Your GPA is: " + roundedGPA)
		}
		
		$('.done').click(function() {
			//alert("Done")
			var result = String(showResults());
			$('.show').html(result);
		});
		</script>
	</body>
</html>
